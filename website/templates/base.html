{% load static %}
{% load i18n %}
{% load extra_utils %}

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>{% block title %}Plant Supply Unit{% endblock title %}</title>
        <!--<link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}"/>-->

        <!-- master stylesheet -->
        <link rel="stylesheet" href="{% static 'style/master.css' %}">
        {% if user.is_authenticated and user.darkmode_active %}
            <link rel="stylesheet" href="{% static 'style/darkmode.css' %}">
        {% endif %}
        
        {% block head %}{% endblock %}
    </head>
    <body>
        <header id="mainheader">
                <div id="nav-main">
                    {% block nav %}
                        {% if user.is_authenticated %}   
                            <div id="nav-bar">
                                <a href="{% url 'homepage:index' %}">{% trans "Welcome" %}</a>
                                <a href="{% url 'psufrontend:register_psu' %}">{% trans "Choice" %}</a>
                                <span id="nav-test">
                                    <a id="nav-test-toggle" class="toggle" onClick="toggleDropDown('nav-test');">PSU</a>
                                    <div id="nav-test-drop-down" class="drop-down">
                                        {% if user.is_staff %}<a href="{% url 'psufrontend:register_psu' %}" class="drop-down-element">{% trans "New PSU" %}</a>{% endif %}
                                        <a href="{% url 'auth:edit_profile' %}" class="drop-down-element">{% trans "Status PSU" %}</a>
                                    </div>
                                </span>
                            </div>
                        {% else %}
                            <div id="nav-main-logged-out">{% trans "Welcome to Team Plant Supply Unit" %}</div>
                        {% endif %}
                    {% endblock %}
                </div>
            <div id="nav-user">
                <a id="nav-user-toggle" class="toggle {% if user.is_authenticated %}logged-in{% endif %}" onClick="toggleDropDown('nav-user');"></a>
                <div id="nav-user-drop-down" class="drop-down">
                    {% if user.is_authenticated %}
                        {% if user.is_staff %}<a href="{% url 'admin:index' %}" class="drop-down-element">{% trans "Administration" %}</a>{% endif %}
                        <a href="{% url 'auth:edit_profile' %}" class="drop-down-element">{% trans "Edit Profile" %}</a>
                        <a href="{% url 'auth:logout' %}" class="drop-down-element">{% trans "Logout" %}</a>
                    {% else %}
                        <a href="{% url 'auth:login' %}" class="drop-down-element">{% trans "Login" %}</a>
                        <a href="{% url 'auth:register' %}" class="drop-down-element">{% trans "Register" %}</a>
                    {% endif %}
                </div>
            </div>
        </header>
        
        <div id="body-wrapper">
            {% block body %}{% endblock %}
        </div>

        <footer id="mainfooter">
            <div id="left-footer">&copy; 2021 Team Plant Supply Unit - TUM adveisor program</div>
            <div id="right-footer">
                <a href="{% translate_url 'de' %}" class="thicken align-right">Deutsch</a>
                &nbsp;-&nbsp;
                <a href="{% translate_url 'en' %}" class="thicken">English</a>
            </div>
        </footer>

        <script src="{% static 'javascript/master.js' %}" type="text/javascript" charset="utf-8"></script>
        {% block extra_js %}{% endblock extra_js %}

    </body>
</html>
